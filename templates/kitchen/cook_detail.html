{% extends "base.html" %}

{% block content %}
  <h2 class="mb-0">{{ cook.first_name }} {{ cook.last_name }}</h2>
  <p class="text-muted mb-1"><strong>Username:</strong> <a href="{% url 'kitchen:cook-update' %}">{{ cook.get_username }}</a></p>
<p class="mb-1"><strong>Years of experience:</strong> {{ cook.years_of_experience|default:"—" }}</p>
<p class="mb-1"><strong>Is staff:</strong> {{ cook.is_staff }}</p>
<p><strong>Years of experience:</strong> {{ cook.email|default:"—" }}</p>

<hr>

<h4 class="mt-4">Dishes</h4>

{% if object_list %}
  <div class="table-responsive">
    <table class="table table-hover align-middle">
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th class="text-end">Price</th>
        </tr>
      </thead>
      <tbody>
        {% for dish in object_list %}
          <tr>
            <td>
              <a href="{% url 'kitchen:dish-detail' pk=dish.id %}">
                {{ dish.name }}
              </a>
            </td>
            <td>{{ dish.dish_type.name }}</td>
            <td class="text-end">{{ dish.price }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

{% else %}
  <p class="text-muted">No dishes yet.</p>
{% endif %}

<form method="get" class="mb-4">
  <div class="row g-2 align-items-center">
    <div class="col-md-6">
      <input
        type="text"
        name="search"
        class="form-control"
        value="{{ search_query|default_if_none:'' }}"
        placeholder="Search dishes..."
      >
    </div>

    <div class="col-md-auto">
      <button type="submit" class="btn btn-primary">
        Search
      </button>

      <a href="{% url 'kitchen:cook-detail' pk=cook.pk %}" class="btn btn-outline-secondary">
        Reset
      </a>
    </div>
  </div>
</form>
{% endblock %}